<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="logo.webp" type="image/webp">
  <title>Sleepy Offers - Read Online Books</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#7B68EE',
            secondary: '#04AA6D',
            accent: '#48D1CC',
            dark: '#2b2b2b',
            light: '#f2f2f2'
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-balance {
        text-wrap: balance;
      }
      .card-shadow {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }
      .card-shadow-hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .modal-transition {
        transition: transform 0.3s ease, opacity 0.3s ease;
      }
      .progress-animation {
        transition: width 0.5s ease-in-out;
      }
    }
  </style>
  
  <style>
    /* Import Inter font */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    body {
      font-family: 'Inter', sans-serif;
      background-color: #2b2b2b;
      color: white;
      scroll-behavior: smooth;
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #333;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #7B68EE;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #6C5CE7;
    }
    
    /* Fade in animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
    
    /* Scale animation for modal */
    @keyframes scaleIn {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    .modal-content {
      animation: scaleIn 0.3s ease forwards;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col">
  <!-- Header with Navigation -->
  <header class="sticky top-0 z-50 bg-dark/90 backdrop-blur-md border-b border-gray-700">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <!-- Logo -->
      <a href="#" class="flex items-center space-x-2">
        <img src="https://sleepyoffers.github.io/logo.webp" alt="Sleepy Offers Logo" class="h-10 w-auto object-contain">
        <span class="text-2xl font-bold text-primary">SleepyOffers</span>
      </a>
      
      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        <a href="index.html" class="text-gray-300 hover:text-primary transition-colors duration-300">Home</a>
        <a href="books.html" class="text-primary font-medium border-b-2 border-primary pb-1">Books</a>
        <a href="#" class="text-gray-300 hover:text-primary transition-colors duration-300">Categories</a>
        <a href="#" class="text-gray-300 hover:text-primary transition-colors duration-300">About</a>
      </nav>
      
      <!-- Mobile Menu Button -->
      <button id="mobileMenuBtn" class="md:hidden text-white focus:outline-none">
        <i class="fa fa-bars text-2xl"></i>
      </button>
    </div>
    
    <!-- Mobile Navigation Menu -->
    <div id="mobileMenu" class="md:hidden hidden bg-dark/95 backdrop-blur-md border-t border-gray-700">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-4">
        <a href="index.html" class="text-gray-300 hover:text-primary transition-colors duration-300 py-2">Home</a>
        <a href="books.html" class="text-primary font-medium py-2 border-l-4 border-primary pl-2">Books</a>
        <a href="#" class="text-gray-300 hover:text-primary transition-colors duration-300 py-2">Categories</a>
        <a href="#" class="text-gray-300 hover:text-primary transition-colors duration-300 py-2">About</a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto px-4 py-8 md:py-12">
    <!-- Search Bar -->
    <section class="mb-8">
      <div class="relative">
        <input 
          type="text" 
          id="searchInput" 
          placeholder="Search for books, chapters, or authors..." 
          class="w-full bg-gray-800 border border-gray-700 rounded-lg py-3 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-primary/50 text-white"
        >
        <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
      </div>
    </section>

    <!-- Book Header -->
    <section class="mb-12 fade-in">
      <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-white mb-4">The Broken Umbrella</h1>
      <p class="text-gray-300 text-lg mb-6">Untitled Document Series, #1</p>
      <div class="flex flex-wrap gap-2 mb-8">
        <span class="bg-gray-700 text-sm px-3 py-1 rounded-full">Fantasy</span>
        <span class="bg-gray-700 text-sm px-3 py-1 rounded-full">Adventure</span>
        <span class="bg-gray-700 text-sm px-3 py-1 rounded-full">Young Adult</span>
      </div>
      <p class="text-gray-300 mb-8">
        A captivating story about a young girl who discovers a magical broken umbrella that transports her to extraordinary worlds.
      </p>
    </section>

    <!-- Chapters Section -->
    <section class="mb-16 fade-in" style="animation-delay: 0.2s">
      <h2 class="text-2xl font-bold text-white mb-6">Chapters & Parts</h2>
      
      <!-- Chapter 1 with parts -->
      <div class="bg-gray-800 rounded-xl p-6 mb-8 card-shadow hover:card-shadow-hover transition-all duration-300">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-xl font-bold text-white">Chapter 1: The Beginning</h3>
          <span class="text-gray-400">3 parts • 12 min read</span>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Part 1 -->
          <div class="part-card bg-gray-900 rounded-lg p-4 hover:bg-gray-800 transition-colors duration-300">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-medium text-white">Part 1</h4>
              <span class="text-xs bg-primary/20 text-primary px-2 py-0.5 rounded">4 min</span>
            </div>
            <p class="text-gray-300 text-sm mb-4">Lily's introduction and the moment that changes her life.</p>
            <button class="chapter-button w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 rounded-lg transition-colors duration-300" data-chapter-id="chapter1-part1">
              Read Now
            </button>
          </div>
          
          <!-- Part 2 -->
          <div class="part-card bg-gray-900 rounded-lg p-4 hover:bg-gray-800 transition-colors duration-300">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-medium text-white">Part 2</h4>
              <span class="text-xs bg-primary/20 text-primary px-2 py-0.5 rounded">4 min</span>
            </div>
            <p class="text-gray-300 text-sm mb-4">Lily's decision to start writing and Leo's encouragement.</p>
            <button class="chapter-button w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 rounded-lg transition-colors duration-300" data-chapter-id="chapter1-part2">
              Read Now
            </button>
          </div>
          
          <!-- Part 3 -->
          <div class="part-card bg-gray-900 rounded-lg p-4 hover:bg-gray-800 transition-colors duration-300">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-medium text-white">Part 3</h4>
              <span class="text-xs bg-primary/20 text-primary px-2 py-0.5 rounded">4 min</span>
            </div>
            <p class="text-gray-300 text-sm mb-4">The magical moment when Lily starts writing and her imagination takes over.</p>
            <button class="chapter-button w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 rounded-lg transition-colors duration-300" data-chapter-id="chapter1-part3">
              Read Now
            </button>
          </div>
        </div>
      </div>
      
      <!-- Upcoming Chapters -->
      <div class="bg-gray-800 rounded-xl p-6 card-shadow">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-xl font-bold text-white">Upcoming Chapters</h3>
          <span class="text-gray-400">Coming Soon</span>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Chapter 2 -->
          <div class="bg-gray-900 rounded-lg p-4 opacity-50">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-medium text-gray-400">Chapter 2: The Mysterious Umbrella</h4>
              <span class="text-xs bg-gray-700 text-gray-400 px-2 py-0.5 rounded">2 parts</span>
            </div>
            <p class="text-gray-500 text-sm mb-4">Lily discovers the umbrella's magical properties.</p>
            <button class="chapter-button w-full bg-gray-700 text-gray-400 font-medium py-2 rounded-lg cursor-not-allowed" disabled>
              Coming Soon
            </button>
          </div>
          
          <!-- Chapter 3 -->
          <div class="bg-gray-900 rounded-lg p-4 opacity-50">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-medium text-gray-400">Chapter 3: First Journey</h4>
              <span class="text-xs bg-gray-700 text-gray-400 px-2 py-0.5 rounded">3 parts</span>
            </div>
            <p class="text-gray-500 text-sm mb-4">Lily's first adventure through the umbrella's magic.</p>
            <button class="chapter-button w-full bg-gray-700 text-gray-400 font-medium py-2 rounded-lg cursor-not-allowed" disabled>
              Coming Soon
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Chapter Modal -->
  <div id="chapterModal" class="modal fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none modal-transition">
    <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" id="modalOverlay"></div>
    <div class="modal-content relative bg-black w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl p-6 md:p-8 transform scale-95">
      <button id="closeModal" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl z-10">
        <i class="fa fa-times"></i>
      </button>
      
      <div class="text-center mb-8">
        <h2 id="modalTitle" class="text-2xl md:text-3xl font-bold text-white mb-2">Chapter 1 - The Beginning (Part 1)</h2>
        <div class="flex items-center justify-center text-gray-400 text-sm">
          <span id="chapterInfo">4 min read</span>
        </div>
      </div>
      
      <!-- Ad Progress Bar -->
      <div id="adContainer" class="mb-8">
        <div class="bg-gray-800 rounded-lg overflow-hidden mb-4">
          <div id="progressBar" class="progress-animation bg-secondary h-2 w-0"></div>
        </div>
        <p class="text-sm text-red-400 text-center mb-4" id="progressText">Loading ad... Please wait to continue reading.</p>
        <div class="bg-gray-800 rounded-xl overflow-hidden">
          <a href="about:blank" target="_blank" class="block">
            <img src="https://sleepyoffers.github.io/examplead1.png" alt="Ad" class="w-full h-auto">
          </a>
        </div>
      </div>
      
      <!-- Chapter Content -->
      <div id="chapterContent" class="prose prose-invert max-w-none mb-8 hidden">
        <!-- Chapter content will be loaded here -->
      </div>
      
      <!-- Reading Controls -->
      <div id="readingControls" class="flex justify-between items-center hidden">
        <button id="prevPart" class="text-gray-400 hover:text-white transition-colors duration-300">
          <i class="fa fa-arrow-left mr-2"></i> Previous Part
        </button>
        <button id="nextPart" class="text-gray-400 hover:text-white transition-colors duration-300">
          Next Part <i class="fa fa-arrow-right ml-2"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer bg-gray-900 border-t border-gray-800">
    <p class="footer-text text-gray-500 text-sm py-4 text-center">
      Copyright &copy; 2024 - SleepyOffers by SleepySurveys. All rights reserved.
    </p>

    <div class="footer-content flex flex-col md:flex-row justify-between items-center md:items-start pt-4 pb-8 px-4">
      <div class="footer-section mb-6 md:mb-0">
        <p class="footer-heading text-red-500 font-bold mb-3">Legal</p>
        <p><a href="https://sleepyoffers.github.io/terms.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Terms of Services</a></p>
        <p><a href="https://sleepyoffers.github.io/privacy.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Privacy Policy</a></p>
      </div>

      <div class="footer-section mb-6 md:mb-0">
        <p class="footer-heading text-red-500 font-bold mb-3">Business</p>
        <p><a href="https://sleepyoffers.github.io/advinfo.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Advertise at Sleepy Offers</a></p>
        <p><a href="https://sleepyoffers.github.io/publish.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Publish at Sleepy Offers</a></p>
      </div>

      <div class="footer-section mb-6 md:mb-0">
        <p class="footer-heading text-red-500 font-bold mb-3">Support</p>
        <p><a href="mailto:sleepysurveys01@gmail.com" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Contact Us</a></p>
        <p><a href="https://sleepyoffers.github.io/faq.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">FAQ</a></p>
      </div>

      <div class="footer-section">
        <p class="footer-heading text-red-500 font-bold mb-3">Explore</p>
        <p><a href="https://sleepyoffers.github.io/index.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">About Us</a></p>
        <p><a href="https://sleepyoffers.github.io/sitemap.html" class="footer-link text-gray-400 hover:text-primary transition-colors duration-300">Site Map</a></p>
      </div>
    </div>
  </footer>

  <script>
    // Mobile Menu Toggle
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      if (mobileMenuBtn.innerHTML.includes('fa-bars')) {
        mobileMenuBtn.innerHTML = '<i class="fa fa-times text-2xl"></i>';
      } else {
        mobileMenuBtn.innerHTML = '<i class="fa fa-bars text-2xl"></i>';
      }
    });
    
    // Chapter Modal
    const modal = document.getElementById('chapterModal');
    const modalOverlay = document.getElementById('modalOverlay');
    const closeModal = document.getElementById('closeModal');
    const chapterContent = document.getElementById('chapterContent');
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const adContainer = document.getElementById('adContainer');
    const readingControls = document.getElementById('readingControls');
    const chapterButtons = document.querySelectorAll('.chapter-button');
    const modalTitle = document.getElementById('modalTitle');
    const chapterInfo = document.getElementById('chapterInfo');
    const prevPartBtn = document.getElementById('prevPart');
    const nextPartBtn = document.getElementById('nextPart');
    
    // Chapter data with parts
    const chapterData = {
      'chapter1-part1': {
        title: 'Chapter 1 - The Beginning (Part 1)',
        info: '4 min read',
        content: `
          <p><b>Chapter 1 - The Beginning (Part 1)</b></p><br>
          <p3>
            It all began in a colourful and well-decorated bedroom.
            The bedroom walls' colours are baby blue, with stars and all sorts of decoration stickers pasted on the walls.
            In addition, the room smells like cherry blossoms. From looking out the bedroom window, it’s a beautiful sunny day today.
          </p3><br>

          <p3>
            There was a girl sitting on her bed reading a storybook, she was very focused on it.
            She is not too tall, not too short. She has long hair that pours down like a waterfall, blue eyes, and a radiant smile.
            She’s 14 years old and her name is Lily.
          </p3><br>

          <p3>
            One hour later… She finished the entire storybook and after she put down the storybook, she sighed.
            Just before she sighed, her brother Leo walked in. Leo is tall and has brown eyes. Leo is also 14 years old, but 11 months older than Lily.
            Then, he saw the storybook that she was reading and heard her sigh. So he then asks, with a worried face, “Why do you sigh? I thought you were reading your favourite storybook, no?”
          </p3>
        `,
        prev: null,
        next: 'chapter1-part2'
      },
      'chapter1-part2': {
        title: 'Chapter 1 - The Beginning (Part 2)',
        info: '4 min read',
        content: `
          <p><b>Chapter 1 - The Beginning (Part 2)</b></p><br>
          <p3>
            Then, there’s a moment of silence… The only sounds that you can hear are birds chirping and the gentle winds.
          </p3><br>

          <p3>
            After a while… Lily says, “I’ve been reading and reading and reading… But why didn't I start writing my very own storybook? Augh!”
          </p3><br>

          <p3>
            He then says, “Oh, of course, that is possible! You can do it!”
          </p3><br>

          <p3>
            She then replies, “Leo, thanks for the encouragement!
            Now I’m gonna go open up an Untitled Document on my PC, and start writing my very own storybook! See ya!”
          </p3>
        `,
        prev: 'chapter1-part1',
        next: 'chapter1-part3'
      },
      'chapter1-part3': {
        title: 'Chapter 1 - The Beginning (Part 3)',
        info: '4 min read',
        content: `
          <p><b>Chapter 1 - The Beginning (Part 3)</b></p><br>
          <p3>
            He then says, “That’s great to hear! Good luck and see ya!”
            Then Leo leaves her room. Then, she started up her PC, and created an “Untitled Document”.
            As soon as she creates and opens up this “Untitled Document”, instantly her creativity is unleashed and her imagination goes wild.
            Before she even started writing anything, her creativity and imagination had already surprised her, in all forms of ways.
            Until this moment, she had never realised the power of a document.
          </p3><br>

          <p3>
            “WOW!” she screams, and meanwhile the ideas and thoughts are coming fast!
            In a split of a second, an idea popped in her head. So, she starts writing, “Once upon a time, a broken umbrella was crying on the streets of nowhere…”
          </p3><br>

          <p3>
            Then suddenly, her eyes went blank and she could no longer feel the comfortable sofa chair that she was sitting on…
          </p3>
        `,
        prev: 'chapter1-part2',
        next: null
      }
    };
    
    let currentChapterId = null;
    let adInterval = null;
    
    // Open modal function - always reset ad
    function openModal(chapterId) {
      const chapter = chapterData[chapterId];
      if (!chapter) return;
      
      // Reset modal state
      currentChapterId = chapterId;
      modalTitle.textContent = chapter.title;
      chapterInfo.textContent = chapter.info;
      chapterContent.innerHTML = chapter.content;
      progressBar.style.width = '0%';
      adContainer.style.display = 'block';
      chapterContent.style.display = 'none';
      readingControls.style.display = 'none';
      progressText.textContent = 'Loading ad... Please wait to continue reading.';
      
      // Enable/disable navigation buttons
      prevPartBtn.disabled = !chapter.prev;
      nextPartBtn.disabled = !chapter.next;
      
      // Show modal with animation
      modal.classList.remove('opacity-0', 'pointer-events-none');
      modal.querySelector('.modal-content').classList.remove('scale-95');
      modal.querySelector('.modal-content').classList.add('scale-100');
      
      // Start ad progress bar
      startAdTimer();
    }
    
    // Start ad timer
    function startAdTimer() {
      let width = 0;
      const totalSteps = 300; // 300 steps for 30 seconds
      const intervalTime = 100; // 100ms per step
      
      adInterval = setInterval(() => {
        if (width >= 100) {
          clearInterval(adInterval);
          adInterval = null;
          adContainer.style.display = 'none';
          chapterContent.style.display = 'block';
          readingControls.style.display = 'flex';
          progressText.textContent = 'Ready to read!';
        } else {
          width += 100 / totalSteps;
          progressBar.style.width = `${width}%`;
          progressBar.textContent = `${Math.round(width)}%`;
        }
      }, intervalTime);
    }
    
    // Close modal function
    function closeModalFunc() {
      if (adInterval) {
        clearInterval(adInterval);
        adInterval = null;
      }
      modal.classList.add('opacity-0', 'pointer-events-none');
      modal.querySelector('.modal-content').classList.remove('scale-100');
      modal.querySelector('.modal-content').classList.add('scale-95');
    }
    
    // Chapter button click event
    chapterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const chapterId = this.getAttribute('data-chapter-id');
        closeModalFunc();
        setTimeout(() => {
          openModal(chapterId);
        }, 300);
      });
    });
    
    // Navigation between parts
    prevPartBtn.addEventListener('click', () => {
      if (!currentChapterId) return;
      const prevId = chapterData[currentChapterId].prev;
      if (prevId) {
        closeModalFunc();
        setTimeout(() => {
          openModal(prevId);
        }, 300);
      }
    });
    
    nextPartBtn.addEventListener('click', () => {
      if (!currentChapterId) return;
      const nextId = chapterData[currentChapterId].next;
      if (nextId) {
        closeModalFunc();
        setTimeout(() => {
          openModal(nextId);
        }, 300);
      }
    });
    
    // Close modal when clicking X or overlay
    closeModal.addEventListener('click', closeModalFunc);
    modalOverlay.addEventListener('click', closeModalFunc);
    
    // Search functionality (basic demo)
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', () => {
      const searchTerm = searchInput.value.toLowerCase().trim();
      const partCards = document.querySelectorAll('.part-card');
      
      partCards.forEach(card => {
        const title = card.textContent.toLowerCase();
        if (title.includes(searchTerm)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
